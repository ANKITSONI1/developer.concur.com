---
title: Image v1
layout: reference
redirect_from:
  - /api-reference-deprecated/version-one/Image/image-resource-entry-image-URL-get.html
  - /api-reference-deprecated/version-one/Image/image-resource-post.html
  - /api-reference-deprecated/version-one/Image/image-resource.html
  - /api-reference-deprecated/version-one/Image/image-url-resource.html
  - /api-reference-deprecated/version-one/Image/index.html
  - /api-reference-deprecated/version-one/Image/payment-request-image-URL-get.html
  - /api-reference-deprecated/version-one/Image/receipt-image-URL-get.html
  - /api-reference-deprecated/version-one/Image/report-image-URL-get.html
---

{% capture deprecation_content %}

[Image v3](./v3.image.html) replaces this API.

{% endcapture %}

{% include deprecation-alert.html content=deprecation_content %}

The Concur Imaging Web service allows clients to manage the receipt images attached to expense reports and the images attached to invoices. Clients can retrieve existing images by reportID, image ID, or invoiceID, and upload new images to a user, expense entry, report, or invoice.

The Imaging web service supports the following image formats:

* `application/pdf` which has not been encrypted or password protected.
* `image/jpg`
* `image/jpeg`
* `image/png`

The maximum file size allowed is 10 MB.

## <a name="post-image"></a>Post an image

### Request

#### URI

##### Templates

```shell
https://www.concursolutions.com/api/image/v1.0/receipt
https://www.concursolutions.com/api/image/v1.0/expenseentry/{entryId}
https://www.concursolutions.com/api/image/v1.0/invoice/{requestId}
https://www.concursolutions.com/api/image/v1.0/report/{reportId}
```

##### Parameters

> **Required**: One of these parameters is always required.

Name|Type|Format|Description
---|---|---|---
`receipt`|`string`|-|Uploads a receipt image and associates it with the OAuth consumer. The user can view the image in the receipt management section of Concur.
`expenseentry/{entryID}`|`string`|Uploads a receipt image and associates it with the expense entry that matches the supplied entry ID. Once an image is attached to the entry, you cannot append additional images.
`invoice/{requestID}`|`string`|-|Uploads an invoice image and associates it with the invoice that matches the supplied request ID. Each invoice is uniquely identified by the request ID value. Once an image is attached to the invoice, you cannot append additional images. The Concur Invoice product is required to use this endpoint. Currently you must use the Invoice user interface to get the Request ID value.
`report/{reportID}`|`string`|-|Uploads a receipt image and associates it with the report that matches the supplied report ID. If a report image already exists for the report, the new image will be appended to the existing image.

#### Headers

* [RFC 7235 Authorization](https://tools.ietf.org/html/rfc7235#section-4.2) (Required) - Authorization header with OAuth token for valid Concur user. The Concur user that authenticates during the OAuth process for this request must either be the user associated with this image, or have one of the following user roles in Concur: Company Administrator or Web Services Administrator for Professional, or Can Administer for Standard. These administrative roles allow the user to manage data for the entire company.
* [RFC 7231 Content-Type](https://tools.ietf.org/html/rfc7231#section-3.1.1.5)
  * `application/pdf`, `image/jpg`, `image/jpeg`, `image/png`
* [RFC 7230 Content-Length](https://tools.ietf.org/html/rfc7230#section-3.3.2)

#### Payload

A byte array containing the image data.

### Response

#### Status Codes

Delete unused codes

* [201 Created](https://tools.ietf.org/html/rfc7231#section-6.3.2)

#### Headers

* [RFC 7231 Content-Type](https://tools.ietf.org/html/rfc7231#section-3.1.1.5): `application/xml`

#### Payload

* [Image](#schema-image)

### Example

#### Request

> This example contains a truncated (see the elipsis) 64-bit encoded string representation of the image for illustration purposes only.
> This example demonstrates one of the endpoints available.

```shell
POST https://www.concursolutions.com/api/image/v1.0/receipt
Authorization: OAuth {token}
Content-Length: 65536
Content-Type: image/jpeg
```

```text
/9j/4AAQSkZJRgABAQEAyADIAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAkiBqQDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEE ...
```

#### Response

```shell
HTTP/1.1 201 Created
Content-Type: application/xml
```

```xml
<Image xmlns="http://www.concursolutions.com/api/image/2011/02" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
  <Id>aBcDeMwbl34xnwdkUw5ZjDsggDl2$pyoy31$pnGaHAywmPrpbAmE</Id>
  <Url />
</Image>
```








## <a name="schema"></a>Schema

### <a name="schema-image"></a>Image

The Image schema provides metadata about an image within the system.

Name|Type|Format|Description
---|---|---|---
`Id`|`string`|-|The unique identifier of the image.
`Url`|`string`|-|The URL for the image. This element is empty when uploading images.








## <a name="get-image-url"></a>Get an image URL







## C# Code Example

```csharp
HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);
request.Method = "POST";
request.ContentType = "application/pdf";
request.Headers.Add("Authorization", signature);
.
.
.
using (FileStream fs = new FileStream(pathToImageFile, FileMode.Open, FileAccess.Read))
{
	using (BinaryReader br = new BinaryReader(fs))
	{
		byte[] image = br.ReadBytes((int)fs.Length);
		request.ContentLength = image.Length;

		Stream ds = request.GetRequestStream();
		ds.Write(image, 0, image.Length);
		ds.Close();
	}
}

HttpWebResponse webresponse = request.GetResponse();
```
